; --- 1) Identify the face pass by a shader hash and enable TextureOverrides there ---
[ShaderOverride_FacePass]
; Use the VS or PS hash that is used when the face is drawn
; (example: replace with the actual VS/PS/VB/IB hash for the face)
hash = f03b625d
; Ensure TextureOverride sections get evaluated for this draw
; or ps-t0 / vb0 as appropriate for your anchor resource
checktextureoverride = ib
; (Use "ib" if you anchor on the face's IB, "vb0" if on its VB0, or "ps-t0" if anchoring via a texture slot)

; --- 2) TextureOverride that anchors to the same draw, but does not replace the face ---
[TextureOverride_FaceAnchor]
; Match the same resource hash observed on the face draw (whichever you used above as the anchor)
; (example: if you used IB/VB/texture hashâ€”use that one here)
hash = f03b625d

; IMPORTANT: do not skip the original draw, do not bind face resources, do not draw here.
; NO handling=skip
; NO ps-t* for face, NO vb*/ib for face, NO drawindexed in pre-phase

; Run our beard overlay AFTER the game has drawn the face:
post run = CommandList_DrawBeardOverlay

; --- 3) The post command list: bind beard only and draw it once ---
[CommandList_DrawBeardOverlay]
; (Optional) Save/restore if you want to be extra-safe with pipeline state
; pushvb
; pushib
; pushps-t0

; Bind beard textures if needed (only if your beard needs a unique texture)
ps-t0 = ResourceDiffuseTextureBeard
; Bind beard geometry
vb0   = ResourceVBBeardNoMustache
ib    = ResourceIBBeardNoMustache

; Draw the beard. "auto" uses the bound IB's index count.
drawindexed = auto

; (Optional) Restore
; popps-t0
; popib
; popvb

; --- Resources (as in your file/names) ---
[ResourceVBBeardNoMustache]
type   = Buffer
stride = 40
filename = Beard_ilkin.vb

[ResourceIBBeardNoMustache]
type   = Buffer
format = DXGI_FORMAT_R32_UINT
filename = Beard_ilkin.ib

[ResourceDiffuseTextureBeard]

filename = Beard_pst0.dds
